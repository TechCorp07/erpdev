<!-- quotes/templates/quotes/client_portal/quote_accept.html -->
{% extends "quotes/client_portal/base.html" %}

{% block content %}
<div class="quote-card">
    <div class="quote-header">
        <h2><i class="bi bi-check-circle me-2"></i>Accept Quote {{ quote.quote_number }}</h2>
        <p class="mb-0">Please review and confirm your acceptance of this quote.</p>
    </div>
    
    <div class="p-4">
        <!-- Quote Summary -->
        <div class="row mb-4">
            <div class="col-md-6">
                <h5>Quote Details</h5>
                <p class="mb-1"><strong>Quote:</strong> {{ quote.quote_number }}</p>
                <p class="mb-1"><strong>Description:</strong> {{ quote.title }}</p>
                <p class="mb-1"><strong>Items:</strong> {{ quote.items.count }} item{{ quote.items.count|pluralize }}</p>
                <p class="mb-0"><strong>Valid Until:</strong> {{ quote.validity_date|date:"F d, Y" }}</p>
            </div>
            <div class="col-md-6">
                <h5>Total Amount</h5>
                <div class="total-amount text-success">
                    ${{ quote.total_amount|floatformat:2 }} {{ quote.currency }}
                </div>
                <p class="text-muted mb-0">Payment due {{ quote.payment_terms }} days after acceptance</p>
            </div>
        </div>
        
        <!-- Acceptance Form -->
        <form method="post">
            {% csrf_token %}
            
            <div class="mb-4">
                <h5>Additional Comments (Optional)</h5>
                <textarea name="comments" class="form-control" rows="3" 
                          placeholder="Any special instructions, delivery requirements, or comments..."></textarea>
                <small class="form-text text-muted">
                    These comments will be shared with our team to ensure we meet your specific needs.
                </small>
            </div>
            
            <div class="mb-4">
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="termsAgree" required>
                    <label class="form-check-label" for="termsAgree">
                        I agree to the terms and conditions outlined in this quote, including the 
                        {{ quote.payment_terms }}-day payment terms and delivery conditions.
                    </label>
                </div>
            </div>
            
            <div class="text-center">
                <button type="submit" class="btn btn-success btn-lg me-3">
                    <i class="bi bi-check-circle me-1"></i> Accept Quote
                </button>
                <a href="{% url 'quotes:quote_preview_public' quote.id access_token %}" 
                   class="btn btn-outline-secondary btn-lg">
                    <i class="bi bi-arrow-left me-1"></i> Back to Quote
                </a>
            </div>
        </form>
    </div>
</div>

<div class="alert alert-info alert-custom">
    <i class="bi bi-info-circle me-2"></i>
    <strong>What happens next?</strong> Once you accept this quote, our team will contact you within 
    4 hours to confirm details and begin processing your order.
</div>
{% endblock %}
